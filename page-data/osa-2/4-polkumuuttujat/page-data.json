{"componentChunkName":"component---src-templates-course-content-template-js","path":"/osa-2/4-polkumuuttujat","result":{"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"text-box","properties":{"variant":"learningObjectives","name":"Oppimistavoitteet"},"children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Tiedät, että polkuja käytetään resurssien tunnistamiseen."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Tunnet käsitteen polkumuuttuja."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Osaat määritellä pyyntöjä käsitteleviin metodeihin polkumuuttujia."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Osaat käyttää polkumuuttujia tietokantaa käyttävissä web-sovelluksissa."}]},{"type":"text","value":"\n"}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Polkuja käytetään resurssien tunnistamiseen ja yksilöintiin. Usein vastaan tulee tilanne, missä luodut resurssit ovat uniikkeja, emmekä tiedä niiden tietoja ennen sovelluksen käynnistymistä — emme voi siis määritellä eksaktia polkua, joka tunnistaisi vielä tuntemattoman resurssin."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yksi vaihtoehto tällaisen tilanteen ratkaisemiseksi on kontrolleriluokassa olevan metodin määrittely siten, että metodi käsittelee aina tiettyyn polkuun tulevat pyynnöt, ja pyynnön mukana tulevalla parametrilla tunnistetaan resurssit. Esimerkiksi pyyntö polkuun "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/henkilot?id=3"}]},{"type":"text","value":" näyttäisi tietokannasta sen henkilön tiedot, jonka "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":"-sarakkeen arvo on "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"3"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"Toinen vaihtoehto on ajatella polkua haettavan resurssin tunnistajana. Annotaatiolle "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@GetMapping"}]},{"type":"text","value":" määriteltävään polkuun voidaan määritellä polkumuuttuja aaltosulkujen avulla. Esimerkiksi polku "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"\"/{arvo}\""}]},{"type":"text","value":" ottaisi vastaan minkä tahansa juuripolun alle tulevan kyselyn ja tallentaisi arvon myöhempää käyttöä varten. Tällöin jos käyttäjä tekee pyynnön esimerkiksi osoitteeseen "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"http://localhost:8080/kirja"}]},{"type":"text","value":", tallentuu arvo \"kirja\" myöhempää käyttöä varten. Polkumuuttujiin pääsee käsiksi pyyntöä käsittelevälle metodille määriteltävän annotaation "},{"type":"element","tagName":"a","properties":{"href":"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/PathVariable.html","target":"_blank"},"children":[{"type":"text","value":"@PathVariable"}]},{"type":"text","value":" avulla."}]},{"type":"element","tagName":"br","properties":{},"children":[]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jatketaan aiemman henkilöesimerkin kanssa. Nyt yksittäisen henkilön hakeminen onnistuisi esimerkiksi seuraavalla tavalla."}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"java"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-java"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Controller"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"HenkiloController"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@Autowired"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"private"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"HenkiloRepository"}]},{"type":"text","value":" henkiloRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@GetMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"list"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Model"}]},{"type":"text","value":" model"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        model"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"addAttribute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"list\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" henkiloRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"findAll"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"henkilot\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// tässä oletetaan erillinen tiedosto henkilot.html"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PostMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"create"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@RequestParam"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" nimi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        henkiloRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"save"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Henkilo"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"nimi"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"redirect:/\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@GetMapping"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"/{id}\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getOne"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Model"}]},{"type":"text","value":" model"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","annotation","punctuation"]},"children":[{"type":"text","value":"@PathVariable"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"Long"}]},{"type":"text","value":" id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        model"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"addAttribute"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"henkilo\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" henkiloRepository"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"getOne"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"id"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"\"henkilo\""}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yllä olevassa esimerkissä metodi "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"getOne"}]},{"type":"text","value":" käsittelee pyyntöjä ennalta määrittelemättömään osoitteeseen "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/{id}"}]},{"type":"text","value":". Tässä "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"{id}"}]},{"type":"text","value":" tarkoittaa käytännössä sitä, että Spring ottaa polusta osan talteen ja asettaa sen pyynnön käsittelevän metodin "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":"-nimiseen muuttujaan, jolle on määritelty "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"@PathVariable"}]},{"type":"text","value":"-annotaatio. Kun metodia kutsutaan, se saa parametrinaan polkuun asetetun muuttujan, joka muunnetaan Long-tyyppiseksi. Metodissa haetaan tietokantataulusta Henkilo rivi pääavaimen "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"id"}]},{"type":"text","value":" perusteella — palautettu arvo lisätään Modeliin, jonka jälkeen tietokannasta haettu tieto näytetään osana "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"henkilo.html"}]},{"type":"text","value":"-tiedostoa."}]},{"type":"element","tagName":"programming-exercise","properties":{"name":"Hello Path Variables","tmcname":"osa02-Osa02_10.HelloPathVariables"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tehtäväpohjassa on sovellus, jossa käsitellään "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Item"}]},{"type":"text","value":"-tyyppisiä olioita. Kun sovelluksen juureen tehdään pyyntö, käyttäjälle näytetään oletushattu (\"default\"). Tehtäväpohjaan on määritelty hajautustaulu, joka sisältää erilaisia hattuja."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lisää sovellukseen toiminnallisuus, jonka avulla käyttäjä voi hakea hajautustaulusta hattuja. Esimerkiksi, mikäli käyttäjä tekee pyynnön polkuun "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/ascot"}]},{"type":"text","value":", tulee hänelle näyttää hatun "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Ascot cap"}]},{"type":"text","value":" tiedot. Vastaavasti, jos käyttäjä tekee pyynnön polkuun "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/bicorne"}]},{"type":"text","value":", tulee käyttäjälle näyttää hatun "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Bicorne"}]},{"type":"text","value":" tiedot."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Luo siis uusi pyyntöjä käsittelevä metodi, joka käsittelee ennalta määräämättömän muotoisiin polkuihin tehtyjä pyyntöjä, ja palauttaa pyynnön polun perusteella käyttäjälle hatun tiedot. Käytä tässä polkumuuttujan tyyppinä merkkijonoa."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sovelluksen juuripolkuun tehtävä pyyntö näyttää seuraavanlaisen sivun:"}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 291px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/4c03deac2a4cf5d875b1469f32cb2305/78805/hellopathvariables-default.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 44.78260869565218%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxklEQVQoz6WPyw6CMBBF+/9fYGJiontNjH4HJka0mIgPWmmBMoDWYuThICt2oqebmWnPbYaoKAykuGVpliZS+Jx5SQJKqSAMOGcH12WcCSnxTQyQdyHM805HF2KFKZfzCesEAKPQpM5+Y9s7SrkvrleuYnh1IW3GQ2vzaDDG6HsD1jh/4snz9kprfetCnh/qnyCWtRoNB1vqYFOWZT8ZhdyYoih++RkXiiIFAFJIXKyfTDfr2XQ6XyzH44nHOI6qqvpWrv/gDe6BB5fNoILhAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/4c03deac2a4cf5d875b1469f32cb2305/a0b58/hellopathvariables-default.webp 230w","/static/4c03deac2a4cf5d875b1469f32cb2305/73915/hellopathvariables-default.webp 291w"],"sizes":["(max-width:","291px)","100vw,","291px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/4c03deac2a4cf5d875b1469f32cb2305/81c8e/hellopathvariables-default.png 230w","/static/4c03deac2a4cf5d875b1469f32cb2305/78805/hellopathvariables-default.png 291w"],"sizes":["(max-width:","291px)","100vw,","291px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/4c03deac2a4cf5d875b1469f32cb2305/78805/hellopathvariables-default.png","alt":"hellopathvariables default","title":"hellopathvariables default","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Muihin osoitteisiin tehtävät pyynnöt taas palauttavat tehtäväpohjassa olevasta "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"items"}]},{"type":"text","value":"-hajautustaulusta polkuun sopivan hatun. Esimerkiksi pyyntö polkuun "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"/ascot"}]},{"type":"text","value":" näyttää seuraavanlaisen sivun:"}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 270px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/06857bc51fa4fad7ef2464db69654a17/01bf6/hellopathvariables-ascot.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 46.95652173913043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA5UlEQVQoz6WOwU7DMAyG8/6vswMPgKBDrENqug7WdS0T1E2T2ElhR1rsigMXtEr8ycGJ/f+fFaE3HQwxBKIYqH1/Q++IkIicc9Za6ADRe+8QkQIfjDGGGC6XT8XOl+c9m7213lmdZb3phuGDJ8rDQec7nefFvmiaM0ALAKY3nMg50zQpps1YDJIqcK4ZRSLhB9lpLuTDc1OuzKCarmv8qyHkbZrmuyLT+lhWD0livaw0juPVVDUESjePm+0Tm+vT6Wa1Orf9UvP0D6mmOq7XSVnV/PiatYT5YzYA93e3Vf26cNXf+gaTagLsVeTHjQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/06857bc51fa4fad7ef2464db69654a17/a0b58/hellopathvariables-ascot.webp 230w","/static/06857bc51fa4fad7ef2464db69654a17/3e767/hellopathvariables-ascot.webp 270w"],"sizes":["(max-width:","270px)","100vw,","270px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/06857bc51fa4fad7ef2464db69654a17/81c8e/hellopathvariables-ascot.png 230w","/static/06857bc51fa4fad7ef2464db69654a17/01bf6/hellopathvariables-ascot.png 270w"],"sizes":["(max-width:","270px)","100vw,","270px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/06857bc51fa4fad7ef2464db69654a17/01bf6/hellopathvariables-ascot.png","alt":"hellopathvariables ascot","title":"hellopathvariables ascot","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"element","tagName":"programming-exercise","properties":{"name":"Hello Individual Pages","tmcname":"osa02-Osa02_11.HelloIndividualPages"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Edellisessä tehtävässä käytössämme oli vain yksi sivu. Olisi kuitenkin hienoa, jos jokaiselle hatulle olisi oma sivu — ainakin sovelluksen käyttäjän näkökulmasta. Tehtäväpohjassa on valmiina sovellus, joka listaa olemassaolevat hatut ja näyttää ne käyttäjälle. Jokaisen hatun yhteydessä on linkki, jota klikkaamalla pitäisi päästä hatun omalle sivulle."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Toteuta tehtäväpohjaan uusi yhden hatun tiedot näyttävä html-sivu ("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"single.html"}]},{"type":"text","value":") ja metodi, joka ohjaa pyynnön sivulle. Kuten edellisessä tehtävässä, metodin tulee kuunnella ennalta määräämättömän muotoisiin polkuihin tehtyjä pyyntöjä, ja palauttaa pyynnön polun perusteella käyttäjälle hattu. Huom! Toisin kuin edellisessä tehtävässä, tässä tehtävässä hatun tunnistamiseen käytettävä merkkijono luodaan hatun luomisen yhteydessä."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Pyyntö sovelluksen juureen luo seuraavanlaisen sivun."}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 475px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/466da/helloindividualpages-list.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 50.43478260869565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9ElEQVQoz5WRwW7DIBBE+f9vqZRzpfZUtWrVk6X0kjiKwcR2TKwQjFnABrpNFSk9tI3nxMK+XUZDqh0/doemrvZN3XUdY0W+2XDOD0IAgP1TBDu8cxZA973WWqmTlFIpNQz6f3jfNK3ANcJ5n2aKvDw/3T88LhZ3jO+wjjHOgM9AGsfkXLI2+rNCiDfCEWDK87RapfXabQu6pRTd3vILgnYpLaq6FKL23l2//QbjfQjhC2aMZlm2XH68vr1LeZplmyjVD8Z8A9NFOBjAYBAGAM/TT7Vty8oSEYKptpiTs85hWH68CC1gfsYY7B6vhCUOpZTisk8w6EOGYAKrcAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/a0b58/helloindividualpages-list.webp 230w","/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/bc10c/helloindividualpages-list.webp 460w","/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/4287c/helloindividualpages-list.webp 475w"],"sizes":["(max-width:","475px)","100vw,","475px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/81c8e/helloindividualpages-list.png 230w","/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/08a84/helloindividualpages-list.png 460w","/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/466da/helloindividualpages-list.png 475w"],"sizes":["(max-width:","475px)","100vw,","475px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/466da/helloindividualpages-list.png","alt":"helloindividualpages list","title":"helloindividualpages list","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos sivulta klikkaa hattua, pääsee tietyn hatun tiedot sisältävälle sivulle. Alla olevassa esimerkissä on klikattu taikurin hattuun liittyvää linkkiä."}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 496px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/6992c570d9793edd1332a51b7359a9c4/bb630/helloindividualpages-single.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 36.08695652173913%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAo0lEQVQY05WOyQ7DIAxE+f/Py3JJVZo2CRAgSGwmSyElPbRnRpblsfQ0gygZpeBkGqdpVEo98B1jTAhljArOhRCLlNeohX+tlHkJPs/GGOTB7/u+rmHbNgDQxmitrbXOOf8TeADv/P+TLwgBPfu+bpqu66q6TmeZkNaGsdleOZBSGY5e/a1tq1wkm2KYscT5SWkahni8C2svMsNRyEhpPI6y5A//0ZX1YadqagAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/6992c570d9793edd1332a51b7359a9c4/a0b58/helloindividualpages-single.webp 230w","/static/6992c570d9793edd1332a51b7359a9c4/bc10c/helloindividualpages-single.webp 460w","/static/6992c570d9793edd1332a51b7359a9c4/6f16c/helloindividualpages-single.webp 496w"],"sizes":["(max-width:","496px)","100vw,","496px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/6992c570d9793edd1332a51b7359a9c4/81c8e/helloindividualpages-single.png 230w","/static/6992c570d9793edd1332a51b7359a9c4/08a84/helloindividualpages-single.png 460w","/static/6992c570d9793edd1332a51b7359a9c4/bb630/helloindividualpages-single.png 496w"],"sizes":["(max-width:","496px)","100vw,","496px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/6992c570d9793edd1332a51b7359a9c4/bb630/helloindividualpages-single.png","alt":"helloindividualpages single","title":"helloindividualpages single","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]}]},{"type":"element","tagName":"programming-exercise","properties":{"name":"Todo Application (2 osaa)","tmcname":"osa02-Osa02_12.TodoApplication"},"children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tässä tehtävässä tulee rakentaa tietokantaa käyttävä tehtävien hallintaan tarkoitettu sovellus. Sovelluksen käyttämät html-sivut ovat valmiina, sovelluksen muut osat pääset toteuttamaan itse."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sovellukseen tulee lisätä seuraavat toiminnallisuudet:"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Kaikkien tehtävien listaaminen. Kun käyttäjä tekee pyynnön sovelluksen juuripolkuun, tulee hänelle näyttää sivu, missä tehtävät on listattuna. Tehtäväpohjan mukana tuleva HTML-sivu sisältää tiedon Modeliin lisättävän listan nimestä sekä valmiin HTML-lomakkeen."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Yksittäisen tehtävän lisääminen. Kun käyttäjä täyttää lomakkeen ja lähettää tiedot palvelimelle, tulee sovelluksen lisätä tehtävä näytettävään listaan."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Yksittäisen tehtävän näyttäminen. Kun käyttäjä klikkaa tehtävään liittyvää linkkiä, tulee käyttäjälle näyttää yhden tehtävän tiedot näyttävä sivu. Tämän lisäksi, tehtävän näyttämisen yhteydessä, tehtävään liittyvien tarkastusten eli katselukertojen määrän tulee kasvaa yhdellä. Toteuta tämä niin, että haet tietokannasta olion (rajapinnan metodi "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"getOne"}]},{"type":"text","value":"), päivität siihen liittyvää katselukertoja kuvaavan muuttujan arvoa, ja tallennat olion tietokantaan (rajapinnan metodi "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"save"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Alla kuva tehtävien listauksesta:"}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/63a3ca79903a4b72c58d0fa2eb5f9697/5a46d/todoapplication-list.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 110.86956521739131%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsSAAALEgHS3X78AAACrUlEQVQ4y41U3XPSQBDP/+2otdWHgh8PvtRRBnVGW2f6QMfxoWhHi0CBEEoCTSBNIB8UEQhpSQhJLpe4SbSl0Dr9ZbOztze7d7dfRLPZJEmS4ziGYYCXy2WapjvdbleWFbUHf1eSJFmRFSAVNGf9fiSHRIBlJpNhWTafz4P97u5uqVRSemcNtg1mZK1eoWrHdINt8W2hI8rqdDY3/hGhAFRVuYSqyrLc7/eHo9FwOBoMBiD8Hg6BYBkqF4gIbofv+5d8UXMJYqKN4c4gnesT+GAbjon3rJkhyfLcdkA2TUPTJrGHK+O+Km1sPH6bTt27v7b5ZD3z+Us69Xpr69XTZHJ9/dHawwcvXm59fJdKJBOJRHIzkXz+LHHS7oAlxphwHZs/5VscS1Yphj5u8UJX5Le3tz/t7Ox/O2i1OIhXg67TTIM9YSmKqtWokabHTyCWnhFr/ZDjYGVrCQQ8wcM+jih2ZFmWaRh2hJlpAvevY8F4JbxQEd8PvubzhSpVy+7vV6vUbRcgLNNXe3gwwOMxdtFVNG88atnYuPApClWr6PTUWzS+CwjT8JtNTxA9VcG1GqIZT5vEtXEHY2Pqs6wnCFgUcaeDBRHruh9G0QuwH8wt33EgpeHSQ4Hr+ggFjvPXMaENcbGE6DoqHbknrEeRqFhE5bJbPEIsh8tH6DDn1o9RpYIOf4RbuZzLcl58NchzYDvgPqT5HENeLMuz7VBw3SA6Bw4MeSzYdqi8lqooqHgxa3cK2HDwK5vNvkmloZMbDFMoFPb2Mh/epysUHRfw/wN2DgMEalYUO1E79xo0Q5GVjqSs9uBS3okbezhYqZMbS4XQtLEoCNC3k4kOZew4TlzVILgLgKVhGDzfhiEFQy32RVgzS5Zg3nUnuu4iF92O6fSCoenD3E8RSiKKxR+oV8WdtsWNawAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/63a3ca79903a4b72c58d0fa2eb5f9697/a0b58/todoapplication-list.webp 230w","/static/63a3ca79903a4b72c58d0fa2eb5f9697/c85cb/todoapplication-list.webp 300w"],"sizes":["(max-width:","300px)","100vw,","300px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/63a3ca79903a4b72c58d0fa2eb5f9697/81c8e/todoapplication-list.png 230w","/static/63a3ca79903a4b72c58d0fa2eb5f9697/5a46d/todoapplication-list.png 300w"],"sizes":["(max-width:","300px)","100vw,","300px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/63a3ca79903a4b72c58d0fa2eb5f9697/5a46d/todoapplication-list.png","alt":"todoapplication list","title":"todoapplication list","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun tehtävää klikkaa, näytetään erillinen tehtäväsivu:"}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 338px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/1ac5c11afbdf26e223eb8580adc8b398/2b41d/todoapplication-item-1.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 61.73913043478261%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABVklEQVQoz6WRzU+DMBjG+f9PxhgPHswyPbhknjQzu+0wDg4SEBilg1HWOQbMfZUvmVB9g3PR00z25Jc2T9+86dO+gqqqiqIghAzD0DRNlmVnPCaeN6HUJZ5LCPEmYAAyoRbGyLIOCJIkdbtdaBsMBqIodjodj1KER47ryoqm6bqmDx3iYcd9nQdxmrEkPSBEURhFURAEYRgGtcCuN5saWDbr3/yV8HmCBDTUHx6fZOlZ0w1JgifL/b4IBc758eaxjc/OL66vLhvN20bzpnXXarfvoVBV1fHmk2KnabrdbpMYPi9jjIHN8zyOExCcF0WRpVnMWJ5BNc5qlWW5b14t32DOBNLbjj3CCJmUTg1jaJpI1/W5P8MYm6bp+zN/HjiODdNjcfL9KafFntKy1yss6wN4UXeytBs5kIpXFVDxWj/73h0GIbznfLHg63XNii+XnDH+z5u/AJ6en1ofNiGSAAAAAElFTkSuQmCC'); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/1ac5c11afbdf26e223eb8580adc8b398/a0b58/todoapplication-item-1.webp 230w","/static/1ac5c11afbdf26e223eb8580adc8b398/9a593/todoapplication-item-1.webp 338w"],"sizes":["(max-width:","338px)","100vw,","338px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/1ac5c11afbdf26e223eb8580adc8b398/81c8e/todoapplication-item-1.png 230w","/static/1ac5c11afbdf26e223eb8580adc8b398/2b41d/todoapplication-item-1.png 338w"],"sizes":["(max-width:","338px)","100vw,","338px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/1ac5c11afbdf26e223eb8580adc8b398/2b41d/todoapplication-item-1.png","alt":"todoapplication item 1","title":"todoapplication item 1","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun sivu avataan toisen kerran, kasvaa tehtävien tarkistukseen liittyvä laskuri:"}]},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-wrapper"],"style":"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 315px; margin-bottom: 1rem;"},"children":[{"type":"text","value":"\n      "},{"type":"element","tagName":"a","properties":{"className":["gatsby-resp-image-link"],"href":"/static/d49e9cee8b8cb5fd48e6979ea7389924/6bdcf/todoapplication-item-2.png","style":"display: block","target":"_blank","rel":["noopener"]},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["gatsby-resp-image-background-image"],"style":"padding-bottom: 60.86956521739131%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABaUlEQVQoz6VRTW+CQBDlhzd6aFLrD7C/wabpwZtHY+KlhQjlI0ZhYVc+lsUWtBUUC9vBtQfbgwcnLzM7O/M2M28lVVU1TbMsyzAM8IqimJblIOR6nosxBEBz9rCAYZq6YQhIsiwPBgNd1yeTCZz7/T68YiNvtrCt2VyWFWX6pulmc2OjZUg/8/yr2AlI3q9hjMETQsAHQUjjuAEFzwCxAGOn+yMkfoVJCYtd19sdLc/zoigYSzabDdTqur5AtnS1271vtdq93kOnc/f89HjTvl3YNtSqqrpAzvNtEPiuC9JihNA6y2B9GECQ67/GT0GQr9r5fbVazOdHneEbPSH1khDHcTwQA2OWJC5CmJCIRlEYwlwIOR9p2pCLYhuFPgPdYpokjLE4SZokCALojSIKfcChlKZpmmVr+LDA97Msa8hlyQ8HLqT5rvglgc/HJqQaDvevL6U6PchyOR6Xo9E+zeCx+p9e/Czh/Af8mZomdDrViwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"},"children":[]},{"type":"text","value":"\n  "},{"type":"element","tagName":"picture","properties":{},"children":[{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/d49e9cee8b8cb5fd48e6979ea7389924/a0b58/todoapplication-item-2.webp 230w","/static/d49e9cee8b8cb5fd48e6979ea7389924/6ea66/todoapplication-item-2.webp 315w"],"sizes":["(max-width:","315px)","100vw,","315px"],"type":"image/webp"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"source","properties":{"srcSet":["/static/d49e9cee8b8cb5fd48e6979ea7389924/81c8e/todoapplication-item-2.png 230w","/static/d49e9cee8b8cb5fd48e6979ea7389924/6bdcf/todoapplication-item-2.png 315w"],"sizes":["(max-width:","315px)","100vw,","315px"],"type":"image/png"},"children":[]},{"type":"text","value":"\n        "},{"type":"element","tagName":"img","properties":{"className":["gatsby-resp-image-image"],"src":"/static/d49e9cee8b8cb5fd48e6979ea7389924/6bdcf/todoapplication-item-2.png","alt":"todoapplication item 2","title":"todoapplication item 2","loading":"lazy","style":"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"},"children":[]},{"type":"text","value":"\n      "}]},{"type":"text","value":"\n  "}]},{"type":"text","value":"\n    "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tehtävä on kahden yksittäisen tehtäväpisteen arvoinen."}]}]}]},"html":"<div><text-box variant='learningObjectives' name='Oppimistavoitteet'><ul>\n<li>Tiedät, että polkuja käytetään resurssien tunnistamiseen.</li>\n<li>Tunnet käsitteen polkumuuttuja.</li>\n<li>Osaat määritellä pyyntöjä käsitteleviin metodeihin polkumuuttujia.</li>\n<li>Osaat käyttää polkumuuttujia tietokantaa käyttävissä web-sovelluksissa.</li>\n</ul></text-box><p>Polkuja käytetään resurssien tunnistamiseen ja yksilöintiin. Usein vastaan tulee tilanne, missä luodut resurssit ovat uniikkeja, emmekä tiedä niiden tietoja ennen sovelluksen käynnistymistä — emme voi siis määritellä eksaktia polkua, joka tunnistaisi vielä tuntemattoman resurssin.</p><p>Yksi vaihtoehto tällaisen tilanteen ratkaisemiseksi on kontrolleriluokassa olevan metodin määrittely siten, että metodi käsittelee aina tiettyyn polkuun tulevat pyynnöt, ja pyynnön mukana tulevalla parametrilla tunnistetaan resurssit. Esimerkiksi pyyntö polkuun <code class=\"language-text\">/henkilot?id=3</code> näyttäisi tietokannasta sen henkilön tiedot, jonka <code class=\"language-text\">id</code>-sarakkeen arvo on <code class=\"language-text\">3</code>.</p><div>Toinen vaihtoehto on ajatella polkua haettavan resurssin tunnistajana. Annotaatiolle <code class=\"language-text\">@GetMapping</code> määriteltävään polkuun voidaan määritellä polkumuuttuja aaltosulkujen avulla. Esimerkiksi polku <code class=\"language-text\">&quot;/{arvo}&quot;</code> ottaisi vastaan minkä tahansa juuripolun alle tulevan kyselyn ja tallentaisi arvon myöhempää käyttöä varten. Tällöin jos käyttäjä tekee pyynnön esimerkiksi osoitteeseen <code class=\"language-text\">http://localhost:8080/kirja</code>, tallentuu arvo \"kirja\" myöhempää käyttöä varten. Polkumuuttujiin pääsee käsiksi pyyntöä käsittelevälle metodille määriteltävän annotaation <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/PathVariable.html\" target=\"_blank\">@PathVariable</a> avulla.</div><br/><p>Jatketaan aiemman henkilöesimerkin kanssa. Nyt yksittäisen henkilön hakeminen onnistuisi esimerkiksi seuraavalla tavalla.</p><div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Controller</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HenkiloController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">HenkiloRepository</span> henkiloRepository<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">list</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Model</span> model<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        model<span class=\"token punctuation\">.</span><span class=\"token function\">addAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"list\"</span><span class=\"token punctuation\">,</span> henkiloRepository<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"henkilot\"</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// tässä oletetaan erillinen tiedosto henkilot.html</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@RequestParam</span> <span class=\"token class-name\">String</span> nimi<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        henkiloRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Henkilo</span><span class=\"token punctuation\">(</span>nimi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"redirect:/\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/{id}\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getOne</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Model</span> model<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@PathVariable</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        model<span class=\"token punctuation\">.</span><span class=\"token function\">addAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"henkilo\"</span><span class=\"token punctuation\">,</span> henkiloRepository<span class=\"token punctuation\">.</span><span class=\"token function\">getOne</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"henkilo\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div><p>Yllä olevassa esimerkissä metodi <code class=\"language-text\">getOne</code> käsittelee pyyntöjä ennalta määrittelemättömään osoitteeseen <code class=\"language-text\">/{id}</code>. Tässä <code class=\"language-text\">{id}</code> tarkoittaa käytännössä sitä, että Spring ottaa polusta osan talteen ja asettaa sen pyynnön käsittelevän metodin <code class=\"language-text\">id</code>-nimiseen muuttujaan, jolle on määritelty <code class=\"language-text\">@PathVariable</code>-annotaatio. Kun metodia kutsutaan, se saa parametrinaan polkuun asetetun muuttujan, joka muunnetaan Long-tyyppiseksi. Metodissa haetaan tietokantataulusta Henkilo rivi pääavaimen <code class=\"language-text\">id</code> perusteella — palautettu arvo lisätään Modeliin, jonka jälkeen tietokannasta haettu tieto näytetään osana <code class=\"language-text\">henkilo.html</code>-tiedostoa.</p><programming-exercise name='Hello Path Variables' tmcname='osa02-Osa02_10.HelloPathVariables'><p>Tehtäväpohjassa on sovellus, jossa käsitellään <code class=\"language-text\">Item</code>-tyyppisiä olioita. Kun sovelluksen juureen tehdään pyyntö, käyttäjälle näytetään oletushattu (\"default\"). Tehtäväpohjaan on määritelty hajautustaulu, joka sisältää erilaisia hattuja.</p><p>Lisää sovellukseen toiminnallisuus, jonka avulla käyttäjä voi hakea hajautustaulusta hattuja. Esimerkiksi, mikäli käyttäjä tekee pyynnön polkuun <code class=\"language-text\">/ascot</code>, tulee hänelle näyttää hatun <code class=\"language-text\">Ascot cap</code> tiedot. Vastaavasti, jos käyttäjä tekee pyynnön polkuun <code class=\"language-text\">/bicorne</code>, tulee käyttäjälle näyttää hatun <code class=\"language-text\">Bicorne</code> tiedot.</p><p>Luo siis uusi pyyntöjä käsittelevä metodi, joka käsittelee ennalta määräämättömän muotoisiin polkuihin tehtyjä pyyntöjä, ja palauttaa pyynnön polun perusteella käyttäjälle hatun tiedot. Käytä tässä polkumuuttujan tyyppinä merkkijonoa.</p><p>Sovelluksen juuripolkuun tehtävä pyyntö näyttää seuraavanlaisen sivun:</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 291px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/4c03deac2a4cf5d875b1469f32cb2305/78805/hellopathvariables-default.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 44.78260869565218%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxklEQVQoz6WPyw6CMBBF+/9fYGJiontNjH4HJka0mIgPWmmBMoDWYuThICt2oqebmWnPbYaoKAykuGVpliZS+Jx5SQJKqSAMOGcH12WcCSnxTQyQdyHM805HF2KFKZfzCesEAKPQpM5+Y9s7SrkvrleuYnh1IW3GQ2vzaDDG6HsD1jh/4snz9kprfetCnh/qnyCWtRoNB1vqYFOWZT8ZhdyYoih++RkXiiIFAFJIXKyfTDfr2XQ6XyzH44nHOI6qqvpWrv/gDe6BB5fNoILhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/4c03deac2a4cf5d875b1469f32cb2305/a0b58/hellopathvariables-default.webp 230w,\n/static/4c03deac2a4cf5d875b1469f32cb2305/73915/hellopathvariables-default.webp 291w\" sizes=\"(max-width: 291px) 100vw, 291px\" type=\"image/webp\">\n        <source srcset=\"/static/4c03deac2a4cf5d875b1469f32cb2305/81c8e/hellopathvariables-default.png 230w,\n/static/4c03deac2a4cf5d875b1469f32cb2305/78805/hellopathvariables-default.png 291w\" sizes=\"(max-width: 291px) 100vw, 291px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/4c03deac2a4cf5d875b1469f32cb2305/78805/hellopathvariables-default.png\" alt=\"hellopathvariables default\" title=\"hellopathvariables default\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span><p>Muihin osoitteisiin tehtävät pyynnöt taas palauttavat tehtäväpohjassa olevasta <code class=\"language-text\">items</code>-hajautustaulusta polkuun sopivan hatun. Esimerkiksi pyyntö polkuun <code class=\"language-text\">/ascot</code> näyttää seuraavanlaisen sivun:</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 270px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/06857bc51fa4fad7ef2464db69654a17/01bf6/hellopathvariables-ascot.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 46.95652173913043%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA5UlEQVQoz6WOwU7DMAyG8/6vswMPgKBDrENqug7WdS0T1E2T2ElhR1rsigMXtEr8ycGJ/f+fFaE3HQwxBKIYqH1/Q++IkIicc9Za6ADRe+8QkQIfjDGGGC6XT8XOl+c9m7213lmdZb3phuGDJ8rDQec7nefFvmiaM0ALAKY3nMg50zQpps1YDJIqcK4ZRSLhB9lpLuTDc1OuzKCarmv8qyHkbZrmuyLT+lhWD0livaw0juPVVDUESjePm+0Tm+vT6Wa1Orf9UvP0D6mmOq7XSVnV/PiatYT5YzYA93e3Vf26cNXf+gaTagLsVeTHjQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/06857bc51fa4fad7ef2464db69654a17/a0b58/hellopathvariables-ascot.webp 230w,\n/static/06857bc51fa4fad7ef2464db69654a17/3e767/hellopathvariables-ascot.webp 270w\" sizes=\"(max-width: 270px) 100vw, 270px\" type=\"image/webp\">\n        <source srcset=\"/static/06857bc51fa4fad7ef2464db69654a17/81c8e/hellopathvariables-ascot.png 230w,\n/static/06857bc51fa4fad7ef2464db69654a17/01bf6/hellopathvariables-ascot.png 270w\" sizes=\"(max-width: 270px) 100vw, 270px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/06857bc51fa4fad7ef2464db69654a17/01bf6/hellopathvariables-ascot.png\" alt=\"hellopathvariables ascot\" title=\"hellopathvariables ascot\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span></programming-exercise><programming-exercise name='Hello Individual Pages' tmcname='osa02-Osa02_11.HelloIndividualPages'><p>Edellisessä tehtävässä käytössämme oli vain yksi sivu. Olisi kuitenkin hienoa, jos jokaiselle hatulle olisi oma sivu — ainakin sovelluksen käyttäjän näkökulmasta. Tehtäväpohjassa on valmiina sovellus, joka listaa olemassaolevat hatut ja näyttää ne käyttäjälle. Jokaisen hatun yhteydessä on linkki, jota klikkaamalla pitäisi päästä hatun omalle sivulle.</p><p>Toteuta tehtäväpohjaan uusi yhden hatun tiedot näyttävä html-sivu (<code class=\"language-text\">single.html</code>) ja metodi, joka ohjaa pyynnön sivulle. Kuten edellisessä tehtävässä, metodin tulee kuunnella ennalta määräämättömän muotoisiin polkuihin tehtyjä pyyntöjä, ja palauttaa pyynnön polun perusteella käyttäjälle hattu. Huom! Toisin kuin edellisessä tehtävässä, tässä tehtävässä hatun tunnistamiseen käytettävä merkkijono luodaan hatun luomisen yhteydessä.</p><p>Pyyntö sovelluksen juureen luo seuraavanlaisen sivun.</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 475px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/466da/helloindividualpages-list.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 50.43478260869565%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9ElEQVQoz5WRwW7DIBBE+f9vqZRzpfZUtWrVk6X0kjiKwcR2TKwQjFnABrpNFSk9tI3nxMK+XUZDqh0/doemrvZN3XUdY0W+2XDOD0IAgP1TBDu8cxZA973WWqmTlFIpNQz6f3jfNK3ANcJ5n2aKvDw/3T88LhZ3jO+wjjHOgM9AGsfkXLI2+rNCiDfCEWDK87RapfXabQu6pRTd3vILgnYpLaq6FKL23l2//QbjfQjhC2aMZlm2XH68vr1LeZplmyjVD8Z8A9NFOBjAYBAGAM/TT7Vty8oSEYKptpiTs85hWH68CC1gfsYY7B6vhCUOpZTisk8w6EOGYAKrcAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/a0b58/helloindividualpages-list.webp 230w,\n/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/bc10c/helloindividualpages-list.webp 460w,\n/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/4287c/helloindividualpages-list.webp 475w\" sizes=\"(max-width: 475px) 100vw, 475px\" type=\"image/webp\">\n        <source srcset=\"/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/81c8e/helloindividualpages-list.png 230w,\n/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/08a84/helloindividualpages-list.png 460w,\n/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/466da/helloindividualpages-list.png 475w\" sizes=\"(max-width: 475px) 100vw, 475px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/16ab2ca5bdfc5ecb06a430ca7df40cf1/466da/helloindividualpages-list.png\" alt=\"helloindividualpages list\" title=\"helloindividualpages list\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span><p>Jos sivulta klikkaa hattua, pääsee tietyn hatun tiedot sisältävälle sivulle. Alla olevassa esimerkissä on klikattu taikurin hattuun liittyvää linkkiä.</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 496px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/6992c570d9793edd1332a51b7359a9c4/bb630/helloindividualpages-single.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 36.08695652173913%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAo0lEQVQY05WOyQ7DIAxE+f/Py3JJVZo2CRAgSGwmSyElPbRnRpblsfQ0gygZpeBkGqdpVEo98B1jTAhljArOhRCLlNeohX+tlHkJPs/GGOTB7/u+rmHbNgDQxmitrbXOOf8TeADv/P+TLwgBPfu+bpqu66q6TmeZkNaGsdleOZBSGY5e/a1tq1wkm2KYscT5SWkahni8C2svMsNRyEhpPI6y5A//0ZX1YadqagAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/6992c570d9793edd1332a51b7359a9c4/a0b58/helloindividualpages-single.webp 230w,\n/static/6992c570d9793edd1332a51b7359a9c4/bc10c/helloindividualpages-single.webp 460w,\n/static/6992c570d9793edd1332a51b7359a9c4/6f16c/helloindividualpages-single.webp 496w\" sizes=\"(max-width: 496px) 100vw, 496px\" type=\"image/webp\">\n        <source srcset=\"/static/6992c570d9793edd1332a51b7359a9c4/81c8e/helloindividualpages-single.png 230w,\n/static/6992c570d9793edd1332a51b7359a9c4/08a84/helloindividualpages-single.png 460w,\n/static/6992c570d9793edd1332a51b7359a9c4/bb630/helloindividualpages-single.png 496w\" sizes=\"(max-width: 496px) 100vw, 496px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/6992c570d9793edd1332a51b7359a9c4/bb630/helloindividualpages-single.png\" alt=\"helloindividualpages single\" title=\"helloindividualpages single\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span></programming-exercise><programming-exercise name='Todo Application (2 osaa)' tmcname='osa02-Osa02_12.TodoApplication'><p>Tässä tehtävässä tulee rakentaa tietokantaa käyttävä tehtävien hallintaan tarkoitettu sovellus. Sovelluksen käyttämät html-sivut ovat valmiina, sovelluksen muut osat pääset toteuttamaan itse.</p><p>Sovellukseen tulee lisätä seuraavat toiminnallisuudet:</p><ul>\n<li>Kaikkien tehtävien listaaminen. Kun käyttäjä tekee pyynnön sovelluksen juuripolkuun, tulee hänelle näyttää sivu, missä tehtävät on listattuna. Tehtäväpohjan mukana tuleva HTML-sivu sisältää tiedon Modeliin lisättävän listan nimestä sekä valmiin HTML-lomakkeen.</li>\n<li>Yksittäisen tehtävän lisääminen. Kun käyttäjä täyttää lomakkeen ja lähettää tiedot palvelimelle, tulee sovelluksen lisätä tehtävä näytettävään listaan.</li>\n<li>Yksittäisen tehtävän näyttäminen. Kun käyttäjä klikkaa tehtävään liittyvää linkkiä, tulee käyttäjälle näyttää yhden tehtävän tiedot näyttävä sivu. Tämän lisäksi, tehtävän näyttämisen yhteydessä, tehtävään liittyvien tarkastusten eli katselukertojen määrän tulee kasvaa yhdellä. Toteuta tämä niin, että haet tietokannasta olion (rajapinnan metodi <code class=\"language-text\">getOne</code>), päivität siihen liittyvää katselukertoja kuvaavan muuttujan arvoa, ja tallennat olion tietokantaan (rajapinnan metodi <code class=\"language-text\">save</code>).</li>\n</ul><p>Alla kuva tehtävien listauksesta:</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/63a3ca79903a4b72c58d0fa2eb5f9697/5a46d/todoapplication-list.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 110.86956521739131%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsSAAALEgHS3X78AAACrUlEQVQ4y41U3XPSQBDP/+2otdWHgh8PvtRRBnVGW2f6QMfxoWhHi0CBEEoCTSBNIB8UEQhpSQhJLpe4SbSl0Dr9ZbOztze7d7dfRLPZJEmS4ziGYYCXy2WapjvdbleWFbUHf1eSJFmRFSAVNGf9fiSHRIBlJpNhWTafz4P97u5uqVRSemcNtg1mZK1eoWrHdINt8W2hI8rqdDY3/hGhAFRVuYSqyrLc7/eHo9FwOBoMBiD8Hg6BYBkqF4gIbofv+5d8UXMJYqKN4c4gnesT+GAbjon3rJkhyfLcdkA2TUPTJrGHK+O+Km1sPH6bTt27v7b5ZD3z+Us69Xpr69XTZHJ9/dHawwcvXm59fJdKJBOJRHIzkXz+LHHS7oAlxphwHZs/5VscS1Yphj5u8UJX5Le3tz/t7Ox/O2i1OIhXg67TTIM9YSmKqtWokabHTyCWnhFr/ZDjYGVrCQQ8wcM+jih2ZFmWaRh2hJlpAvevY8F4JbxQEd8PvubzhSpVy+7vV6vUbRcgLNNXe3gwwOMxdtFVNG88atnYuPApClWr6PTUWzS+CwjT8JtNTxA9VcG1GqIZT5vEtXEHY2Pqs6wnCFgUcaeDBRHruh9G0QuwH8wt33EgpeHSQ4Hr+ggFjvPXMaENcbGE6DoqHbknrEeRqFhE5bJbPEIsh8tH6DDn1o9RpYIOf4RbuZzLcl58NchzYDvgPqT5HENeLMuz7VBw3SA6Bw4MeSzYdqi8lqooqHgxa3cK2HDwK5vNvkmloZMbDFMoFPb2Mh/epysUHRfw/wN2DgMEalYUO1E79xo0Q5GVjqSs9uBS3okbezhYqZMbS4XQtLEoCNC3k4kOZew4TlzVILgLgKVhGDzfhiEFQy32RVgzS5Zg3nUnuu4iF92O6fSCoenD3E8RSiKKxR+oV8WdtsWNawAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/63a3ca79903a4b72c58d0fa2eb5f9697/a0b58/todoapplication-list.webp 230w,\n/static/63a3ca79903a4b72c58d0fa2eb5f9697/c85cb/todoapplication-list.webp 300w\" sizes=\"(max-width: 300px) 100vw, 300px\" type=\"image/webp\">\n        <source srcset=\"/static/63a3ca79903a4b72c58d0fa2eb5f9697/81c8e/todoapplication-list.png 230w,\n/static/63a3ca79903a4b72c58d0fa2eb5f9697/5a46d/todoapplication-list.png 300w\" sizes=\"(max-width: 300px) 100vw, 300px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/63a3ca79903a4b72c58d0fa2eb5f9697/5a46d/todoapplication-list.png\" alt=\"todoapplication list\" title=\"todoapplication list\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span><p>Kun tehtävää klikkaa, näytetään erillinen tehtäväsivu:</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 338px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1ac5c11afbdf26e223eb8580adc8b398/2b41d/todoapplication-item-1.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.73913043478261%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABVklEQVQoz6WRzU+DMBjG+f9PxhgPHswyPbhknjQzu+0wDg4SEBilg1HWOQbMfZUvmVB9g3PR00z25Jc2T9+86dO+gqqqiqIghAzD0DRNlmVnPCaeN6HUJZ5LCPEmYAAyoRbGyLIOCJIkdbtdaBsMBqIodjodj1KER47ryoqm6bqmDx3iYcd9nQdxmrEkPSBEURhFURAEYRgGtcCuN5saWDbr3/yV8HmCBDTUHx6fZOlZ0w1JgifL/b4IBc758eaxjc/OL66vLhvN20bzpnXXarfvoVBV1fHmk2KnabrdbpMYPi9jjIHN8zyOExCcF0WRpVnMWJ5BNc5qlWW5b14t32DOBNLbjj3CCJmUTg1jaJpI1/W5P8MYm6bp+zN/HjiODdNjcfL9KafFntKy1yss6wN4UXeytBs5kIpXFVDxWj/73h0GIbznfLHg63XNii+XnDH+z5u/AJ6en1ofNiGSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/1ac5c11afbdf26e223eb8580adc8b398/a0b58/todoapplication-item-1.webp 230w,\n/static/1ac5c11afbdf26e223eb8580adc8b398/9a593/todoapplication-item-1.webp 338w\" sizes=\"(max-width: 338px) 100vw, 338px\" type=\"image/webp\">\n        <source srcset=\"/static/1ac5c11afbdf26e223eb8580adc8b398/81c8e/todoapplication-item-1.png 230w,\n/static/1ac5c11afbdf26e223eb8580adc8b398/2b41d/todoapplication-item-1.png 338w\" sizes=\"(max-width: 338px) 100vw, 338px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/1ac5c11afbdf26e223eb8580adc8b398/2b41d/todoapplication-item-1.png\" alt=\"todoapplication item 1\" title=\"todoapplication item 1\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span><p>Kun sivu avataan toisen kerran, kasvaa tehtävien tarkistukseen liittyvä laskuri:</p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 315px; margin-bottom: 1rem;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/d49e9cee8b8cb5fd48e6979ea7389924/6bdcf/todoapplication-item-2.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 60.86956521739131%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABaUlEQVQoz6VRTW+CQBDlhzd6aFLrD7C/wabpwZtHY+KlhQjlI0ZhYVc+lsUWtBUUC9vBtQfbgwcnLzM7O/M2M28lVVU1TbMsyzAM8IqimJblIOR6nosxBEBz9rCAYZq6YQhIsiwPBgNd1yeTCZz7/T68YiNvtrCt2VyWFWX6pulmc2OjZUg/8/yr2AlI3q9hjMETQsAHQUjjuAEFzwCxAGOn+yMkfoVJCYtd19sdLc/zoigYSzabDdTqur5AtnS1271vtdq93kOnc/f89HjTvl3YNtSqqrpAzvNtEPiuC9JihNA6y2B9GECQ67/GT0GQr9r5fbVazOdHneEbPSH1khDHcTwQA2OWJC5CmJCIRlEYwlwIOR9p2pCLYhuFPgPdYpokjLE4SZokCALojSIKfcChlKZpmmVr+LDA97Msa8hlyQ8HLqT5rvglgc/HJqQaDvevL6U6PchyOR6Xo9E+zeCx+p9e/Czh/Af8mZomdDrViwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\"></span>\n  <picture>\n        <source srcset=\"/static/d49e9cee8b8cb5fd48e6979ea7389924/a0b58/todoapplication-item-2.webp 230w,\n/static/d49e9cee8b8cb5fd48e6979ea7389924/6ea66/todoapplication-item-2.webp 315w\" sizes=\"(max-width: 315px) 100vw, 315px\" type=\"image/webp\">\n        <source srcset=\"/static/d49e9cee8b8cb5fd48e6979ea7389924/81c8e/todoapplication-item-2.png 230w,\n/static/d49e9cee8b8cb5fd48e6979ea7389924/6bdcf/todoapplication-item-2.png 315w\" sizes=\"(max-width: 315px) 100vw, 315px\" type=\"image/png\">\n        <img class=\"gatsby-resp-image-image\" src=\"/static/d49e9cee8b8cb5fd48e6979ea7389924/6bdcf/todoapplication-item-2.png\" alt=\"todoapplication item 2\" title=\"todoapplication item 2\" loading=\"lazy\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n      </picture>\n  </a>\n    </span><p>Tehtävä on kahden yksittäisen tehtäväpisteen arvoinen.</p></programming-exercise></div>","frontmatter":{"path":"/osa-2/4-polkumuuttujat","title":"Polkumuuttujat"}},"allPages":{"edges":[{"node":{"id":"3283b622-bc08-5a19-9f02-6e3db5b31a9e","frontmatter":{"path":"/arvostelu-ja-kokeet","title":"Arvostelu ja kokeet"}}},{"node":{"id":"e78c9ef5-d275-5bf5-a509-1b9e4c75d71d","frontmatter":{"path":"/ilmoittautuminen","title":"Ilmoittautuminen"}}},{"node":{"id":"76068d63-4a30-5f9e-9efd-ed49edc98b6a","frontmatter":{"path":"/","title":"Tietoa kurssista"}}},{"node":{"id":"61df2549-c6f5-5c67-8b7f-8e9b179914c7","frontmatter":{"path":"/projekti","title":"Projekti"}}},{"node":{"id":"e771e805-db54-5575-a454-bd4c2716760b","frontmatter":{"path":"/osaamistavoitteet","title":"Osaamistavoitteet"}}},{"node":{"id":"5382499e-39f1-5cd3-b8dd-db9394113dd6","frontmatter":{"path":"/tukivaylat","title":"Tukiväylät"}}},{"node":{"id":"da046513-cc80-52ea-982b-6ba29eb36c6f","frontmatter":{"path":"/usein-kysytyt-kysymykset","title":"Usein kysytyt kysymykset"}}},{"node":{"id":"079e1fa2-0d02-5126-86d9-476aff42030b","frontmatter":{"path":"/ekstra/ajan-kasittely-tietokannassa","title":"Ajan käsittely tietokannassa"}}},{"node":{"id":"1af05bdb-9079-516d-be98-e23b12502041","frontmatter":{"path":"/ekstra/tietokantamigraatiot","title":"Tietokantamigraatiot"}}},{"node":{"id":"249178b9-973e-51fb-9b2e-6f9ce2dd2caa","frontmatter":{"path":"/osa-1/1-internetin-perusosat","title":"Internetin perusosat"}}},{"node":{"id":"d3789e1a-41d9-5c85-91ca-f0409e886900","frontmatter":{"path":"/osa-1/2-web-palvelimen-toiminta","title":"Web-palvelimen toiminta"}}},{"node":{"id":"5713905a-c5d4-5ecd-a8ea-115c942d7074","frontmatter":{"path":"/osa-1/3-spring-sovelluskehys","title":"Spring-sovelluskehys"}}},{"node":{"id":"466c1a97-6994-5173-bb91-61d05a30526b","frontmatter":{"path":"/osa-1/4-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"17d35c69-fc92-51be-bc33-4fc9ae222cde","frontmatter":{"path":"/osa-1","title":"Osa 1"}}},{"node":{"id":"3a940cd3-4bbf-51fd-ac1c-41aa09ff32d5","frontmatter":{"path":"/osa-2/1-nakymat-ja-data","title":"Näkymät ja data"}}},{"node":{"id":"bf989dd9-3412-5c74-884a-da6bb6aaac93","frontmatter":{"path":"/osa-2/2-tiedon-lahettaminen-palvelimelle","title":"Tiedon lähettäminen palvelimelle"}}},{"node":{"id":"e291213c-4b28-5f9d-b2e1-54f7d4dbe816","frontmatter":{"path":"/osa-2/3-tietokantojen-kasittely","title":"Tietokantojen käsittely ohjelmallisesti"}}},{"node":{"id":"30ad81c1-8b76-597c-9c62-751757da310b","frontmatter":{"path":"/osa-2/4-polkumuuttujat","title":"Polkumuuttujat"}}},{"node":{"id":"89a245a1-75c1-54b3-a601-672bbd9ec262","frontmatter":{"path":"/osa-2/5-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"cbe2bc5a-cc26-5910-9f4d-b044ec47abd3","frontmatter":{"path":"/osa-2","title":"Osa 2"}}},{"node":{"id":"b7817525-1953-521b-9e58-8a26d3665534","frontmatter":{"path":"/osa-3/1-useampi-tietokantataulu","title":"Useampi tietokantataulu ja taulujen väliset viitteet"}}},{"node":{"id":"6b7162fe-46bd-56fa-a8d2-41b0781f1c23","frontmatter":{"path":"/osa-3/2-tietokantatransaktiot","title":"Tietokantatransaktiot"}}},{"node":{"id":"7fcb1b86-738d-543a-a2bb-56119be2850c","frontmatter":{"path":"/osa-3/3-n-plus-1-kyselyn-ongelma","title":"N+1 kyselyn ongelma"}}},{"node":{"id":"c15b1320-b951-59b3-86b4-b647e04a54b8","frontmatter":{"path":"/osa-3/4-tulosten-rajaaminen-ja-jarjestaminen","title":"Tietokantakyselyiden tulosten rajaaminen ja järjestäminen"}}},{"node":{"id":"0ea05616-b6f5-54e2-8045-4a86c7c0b197","frontmatter":{"path":"/osa-3/5-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"8eff6b69-a4e1-5bfb-8d86-f93e7eef7978","frontmatter":{"path":"/osa-3","title":"Osa 3"}}},{"node":{"id":"22ccbbfe-8a60-5d30-a898-e2da567da345","frontmatter":{"path":"/osa-4/1-mediatyyppi-ja-tiedostojen-kasittely","title":"Mediatyyppi ja tiedostojen käsittely"}}},{"node":{"id":"cfcd1e2d-d678-502f-bc30-5ce24a9a29cd","frontmatter":{"path":"/osa-4/2-ohjelmistokehitysprosessi","title":"Muutama sana ohjelmistokehityksestä"}}},{"node":{"id":"2159f129-bc50-5474-97a7-e67d45a13742","frontmatter":{"path":"/osa-4/3-sovelluksen-rakenne","title":"Sovelluksen rakenne"}}},{"node":{"id":"382343a9-8806-5fc7-8c06-2cc69689b180","frontmatter":{"path":"/osa-4/4-konfiguraatioprofiilit","title":"Konfiguraatioprofiilit"}}},{"node":{"id":"708d8201-7107-566a-a74f-4b56444dcd0b","frontmatter":{"path":"/osa-4/5-sovellusten-testaaminen","title":"Sovellusten testaaminen"}}},{"node":{"id":"db8df001-8629-5e13-be04-df87d1afc2b7","frontmatter":{"path":"/osa-4/6-sovelluksen-siirtaminen-pilvipalveluun","title":"Sovelluksen siirtäminen pilvipalveluun"}}},{"node":{"id":"89ca7162-20da-5868-a3eb-5c973045856b","frontmatter":{"path":"/osa-4/7-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"582a5c8b-beca-5122-a87a-f2cb9068d18a","frontmatter":{"path":"/osa-4","title":"Osa 4"}}},{"node":{"id":"67422910-7142-56bb-80a6-cbd73f7461d3","frontmatter":{"path":"/osa-5/1-http-protokollan-tilattomuus-ja-evasteet","title":"HTTP-protokollan tilattomuus ja evästeet"}}},{"node":{"id":"c65c7fed-73a9-537f-b5f1-3241761326e3","frontmatter":{"path":"/osa-5/2-autentikaatio-ja-auktorisointi","title":"Autentikaatio ja auktorisointi"}}},{"node":{"id":"0428fec4-6ca3-527b-855a-bb3397e65d8c","frontmatter":{"path":"/osa-5/3-nakymatason-ja-metoditason-auktorisointi","title":"Näkymä- ja metoditason auktorisointi"}}},{"node":{"id":"dd6b12f5-d1ee-54b2-af79-f6f6963f8336","frontmatter":{"path":"/osa-5/4-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"62ff299a-8fe5-58fc-a1f3-010a9ca8ff9d","frontmatter":{"path":"/osa-5","title":"Osa 5"}}},{"node":{"id":"e2bfad01-9334-5cdb-88d1-6509e74db429","frontmatter":{"path":"/osa-6/1-toistuvat-rakenteet-html-sivuilla","title":"Toistuvat rakenteet HTML-sivuilla"}}},{"node":{"id":"59b114a1-6e99-515f-861c-c344839f5f6b","frontmatter":{"path":"/osa-6/2-tyylitiedostot-ja-asettelu","title":"Tyylitiedostot ja sivun asettelun määrittely"}}},{"node":{"id":"3d0269f8-2809-565c-9284-f15ab30559a1","frontmatter":{"path":"/osa-6/3-syotteiden-validointi","title":"Syötteiden validointi"}}},{"node":{"id":"65746c76-9e0b-5c1e-8388-589c3d895db8","frontmatter":{"path":"/osa-6/4-rajapinnat-ja-rest","title":"Rajapinnat ja REST"}}},{"node":{"id":"6c0caa0b-e5f4-5818-b2d0-602f51175ffe","frontmatter":{"path":"/osa-6/5-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"87285c75-6058-5ed6-af3a-67835f2e9758","frontmatter":{"path":"/osa-6","title":"Osa 6"}}},{"node":{"id":"1edfd6c7-3880-5e94-b639-6c9d80ff7d14","frontmatter":{"path":"/osa-7/1-selainohjelmistot-ja-javascript","title":"Selainohjelmistot ja JavaScript"}}},{"node":{"id":"7c1c61e3-b3e5-5b18-88ab-571ea9f529b8","frontmatter":{"path":"/osa-7/2-tietoturva","title":"Muutama sana tietoturvasta"}}},{"node":{"id":"457aeff4-3970-5308-88c0-cbadc4c4da14","frontmatter":{"path":"/osa-7/3-sovellusten-skaalautuminen","title":"Isommille käyttäjämäärille skaalautuvat sovellukset"}}},{"node":{"id":"40649dd6-c843-59b5-b08b-2ffe5344119c","frontmatter":{"path":"/osa-7/4-reaktiivinen-ohjelmointi","title":"Reaktiivinen ohjelmointi"}}},{"node":{"id":"a1a0b842-6a0f-5dc5-835a-7b47ef681fe4","frontmatter":{"path":"/osa-7/5-yhteenveto","title":"Yhteenveto"}}},{"node":{"id":"a7e70d0e-5b2d-52f5-a5e8-5b9e6fd90aa8","frontmatter":{"path":"/osa-7","title":"Osa 7"}}},{"node":{"id":"8d82aaf9-de05-5ae7-a886-7e21e8781ae3","frontmatter":{"path":"/osa-x/x-johdanto","title":"Johdanto"}}}]}},"pageContext":{}},"staticQueryHashes":["2929037737","994120085"]}